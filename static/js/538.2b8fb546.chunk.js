"use strict";(self.webpackChunkmy_mind=self.webpackChunkmy_mind||[]).push([[538],{538:(s,e,o)=>{o.r(e),o.d(e,{default:()=>F});var r=o(43),l=o(3),i=o(634);const t="Users_usersContainer__CBVb7",n="Users_pagination__KY-Z1",a="Users_pageNumber__1aLj-",c="Users_active__h4E6k",d="Users_usersList__WKeP2",u="Users_showMoreBtn__KqGFA",h="UserCard_userCard__ihRmo",p="UserCard_avatarSection__0JBFW",g="UserCard_avatar__rVPlw",_="UserCard_infoSection__hwayj",w="UserCard_userName__PgVTL",m="UserCard_userStatus__4xepr",U="UserCard_location__0ptcn",f="UserCard_buttonSection__HQ-AC",C="UserCard_followBtn__x8j45",v="UserCard_follow__v449t",P="UserCard_unfollow__d6+fW";var j=o(212),x=o(250),b=o(579);const N=s=>{let e=Math.ceil(s.totalUC/s.pageSize),o=[];for(let i=1;i<=e;i++)o.push(i);let r=[],l=s.currentPage;return r=l-3<0?o.slice(0,5):o.slice(l-3,l+2),(0,b.jsxs)("div",{className:t,children:[(0,b.jsx)("div",{className:n,children:r.map((e=>(0,b.jsx)("span",{onClick:()=>s.onPC(e),className:"".concat(a," ").concat(s.currentPage===e?c:""),children:e},e)))}),(0,b.jsx)("div",{className:d,children:s.users.map((e=>{var o,r,l;return(0,b.jsxs)("div",{className:h,children:[(0,b.jsx)("div",{className:p,children:(0,b.jsx)(x.k2,{to:"/profile/"+e.id,children:(0,b.jsx)("img",{src:(null===e||void 0===e||null===(o=e.photos)||void 0===o?void 0:o.small)||j,alt:"avatar",className:g})})}),(0,b.jsxs)("div",{className:_,children:[(0,b.jsx)("h3",{className:w,children:(null===e||void 0===e?void 0:e.name)||"No name"}),(0,b.jsxs)("div",{className:U,children:[(0,b.jsx)("div",{children:(null===e||void 0===e||null===(r=e.location)||void 0===r?void 0:r.country)||"Unknown country"}),(0,b.jsx)("div",{children:(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.city)||"Unknown city"})]})]}),(0,b.jsx)("div",{className:f,children:e.isFollowing?(0,b.jsx)("button",{className:"".concat(C," ").concat(P),disabled:!s.isAuth||s.followingInProgress.includes(e.id),onClick:()=>s.followOrUnfollow(e.id,"delete",s.unFollow),children:s.followingInProgress.includes(e.id)?"...":"UnFollow"}):(0,b.jsx)("button",{className:"".concat(C," ").concat(v),disabled:!s.isAuth||s.followingInProgress.includes(e.id),onClick:()=>s.followOrUnfollow(e.id,"post",s.follow),children:s.followingInProgress.includes(e.id)?"...":"Follow"})}),e.status&&(0,b.jsx)("p",{className:m,children:e.status})]},e.id)}))}),(0,b.jsx)("button",{className:u,children:"Show more"})]})};var k=o(410);class S extends r.Component{constructor(){super(...arguments),this.onPageChanged=s=>{this.props.methods.setPageNumber(s),this.props.getUsersThunk(s,this.props.pageSize)}}componentDidMount(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}lookThis(){console.log("this:",this)}render(){return(0,b.jsxs)(b.Fragment,{children:[this.props.static.isFetching?(0,b.jsx)(k.A,{}):null,(0,b.jsx)(N,{unFollow:this.props.methods.unFollow,follow:this.props.methods.follow,disabled:this.props.methods.disabled,users:this.props.users,currentPage:this.props.static.currentPage,totalUC:this.props.static.totalUserCount,pageSize:this.props.static.pageSize,isDisabled:this.props.static.isDisabled,isAuth:this.props.static.isAuth,followingInProgress:this.props.static.followingInProgress,onPC:this.onPageChanged,followOrUnfollow:this.props.followOrUnfollow})]})}}const F=()=>{const s=(0,l.d4)((s=>s.userPage)),e=(0,l.d4)((s=>s.auth)),o=(0,l.wA)(),r={follow:s=>{o((0,i._A)(s))},unFollow:s=>{o((0,i.hZ)(s))},show:s=>{o((0,i.Si)(s))},setPageNumber:s=>{o((0,i.IR)(s))},getUserCount:s=>{o((0,i.VX)(s))},toggle:s=>{o((0,i.rj)(s))},disabled:s=>{o((0,i.Tc)(s))},thunka:(s,e)=>{o((0,i.cs)(s,e))},thunkForSubscribe:(s,e,r)=>{o((0,i.ZF)(s,e,r))}};let t={pageSize:s.pageSize,totalUserCount:s.totalUserCount,currentPage:s.currentPage,isFetching:s.isFetching,isDisabled:s.isDisabled,followingInProgress:s.followingInProgress,isAuth:e.isAuth};return console.log("render userContainer"),(0,b.jsx)(S,{methods:r,users:s.users,static:t,currentPage:t.currentPage,pageSize:t.pageSize,getUsersThunk:r.thunka,followOrUnfollow:r.thunkForSubscribe})}}}]);
//# sourceMappingURL=538.2b8fb546.chunk.js.map