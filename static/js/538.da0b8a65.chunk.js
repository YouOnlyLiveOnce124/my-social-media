"use strict";(self.webpackChunkmy_mind=self.webpackChunkmy_mind||[]).push([[538],{8538:(s,e,o)=>{o.r(e),o.d(e,{default:()=>F});var r=o(5043),t=o(3003),l=o(2634);const i="Users_usersContainer__CBVb7",a="Users_pagination__KY-Z1",n="Users_pageNumber__1aLj-",c="Users_active__h4E6k",d="Users_usersList__WKeP2",h="Users_showMoreBtn__KqGFA",u="UserCard_userCard__ihRmo",p="UserCard_avatarSection__0JBFW",g="UserCard_avatar__rVPlw",_="UserCard_infoSection__hwayj",w="UserCard_userName__PgVTL",m="UserCard_userStatus__4xepr",f="UserCard_location__0ptcn",C="UserCard_buttonSection__HQ-AC",U="UserCard_followBtn__x8j45",P="UserCard_follow__v449t",j="UserCard_unfollow__d6+fW";var x=o(4212),b=o(2250),N=o(579);const v=s=>{let e=Math.ceil(s.totalUC/s.pageSize),o=[];for(let l=1;l<=e;l++)o.push(l);let r=[],t=s.currentPage;return r=t-3<0?o.slice(0,5):o.slice(t-3,t+2),(0,N.jsxs)("div",{className:i,children:[(0,N.jsx)("div",{className:a,children:r.map((e=>(0,N.jsx)("span",{onClick:()=>s.onPC(e),className:"".concat(n," ").concat(s.currentPage===e?c:""),children:e},e)))}),(0,N.jsx)("div",{className:d,children:s.users.map((e=>(0,N.jsxs)("div",{className:u,children:[(0,N.jsx)("div",{className:p,children:(0,N.jsx)(b.k2,{to:"/profile/"+e.id,children:(0,N.jsx)("img",{src:e.photos.small||x,alt:"avatar",className:g})})}),(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("h3",{className:w,children:e.name}),(0,N.jsxs)("div",{className:f,children:[(0,N.jsx)("div",{children:"u.location.country"}),(0,N.jsx)("div",{children:"u.location.city"})]})]}),(0,N.jsx)("div",{className:C,children:e.isFollowing?(0,N.jsx)("button",{className:"".concat(U," ").concat(j),disabled:!s.isAuth||s.followingInProgress.includes(e.id),onClick:()=>s.followOrUnfollow(e.id,"delete",s.unFollow),children:s.followingInProgress.includes(e.id)?"...":"UnFollow"}):(0,N.jsx)("button",{className:"".concat(U," ").concat(P),disabled:!s.isAuth||s.followingInProgress.includes(e.id),onClick:()=>s.followOrUnfollow(e.id,"post",s.follow),children:s.followingInProgress.includes(e.id)?"...":"Follow"})}),e.status&&(0,N.jsx)("p",{className:m,children:e.status})]},e.id)))}),(0,N.jsx)("button",{className:h,children:"Show more"})]})};var k=o(8410);class S extends r.Component{constructor(){super(...arguments),this.onPageChanged=s=>{this.props.methods.setPageNumber(s),this.props.getUsersThunk(s,this.props.pageSize)}}componentDidMount(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}lookThis(){console.log("this:",this)}render(){return(0,N.jsxs)(N.Fragment,{children:[this.props.static.isFetching?(0,N.jsx)(k.A,{}):null,(0,N.jsx)(v,{unFollow:this.props.methods.unFollow,follow:this.props.methods.follow,disabled:this.props.methods.disabled,users:this.props.users,currentPage:this.props.static.currentPage,totalUC:this.props.static.totalUserCount,pageSize:this.props.static.pageSize,isDisabled:this.props.static.isDisabled,isAuth:this.props.static.isAuth,followingInProgress:this.props.static.followingInProgress,onPC:this.onPageChanged,followOrUnfollow:this.props.followOrUnfollow})]})}}const F=()=>{const s=(0,t.d4)((s=>s.userPage)),e=(0,t.d4)((s=>s.auth)),o=(0,t.wA)(),r={follow:s=>{o((0,l._A)(s))},unFollow:s=>{o((0,l.hZ)(s))},show:s=>{o((0,l.Si)(s))},setPageNumber:s=>{o((0,l.IR)(s))},getUserCount:s=>{o((0,l.VX)(s))},toggle:s=>{o((0,l.rj)(s))},disabled:s=>{o((0,l.Tc)(s))},thunka:(s,e)=>{o((0,l.cs)(s,e))},thunkForSubscribe:(s,e,r)=>{o((0,l.ZF)(s,e,r))}};let i={pageSize:s.pageSize,totalUserCount:s.totalUserCount,currentPage:s.currentPage,isFetching:s.isFetching,isDisabled:s.isDisabled,followingInProgress:s.followingInProgress,isAuth:e.isAuth};return console.log("render userContainer"),(0,N.jsx)(S,{methods:r,users:s.users,static:i,currentPage:i.currentPage,pageSize:i.pageSize,getUsersThunk:r.thunka,followOrUnfollow:r.thunkForSubscribe})}}}]);
//# sourceMappingURL=538.da0b8a65.chunk.js.map