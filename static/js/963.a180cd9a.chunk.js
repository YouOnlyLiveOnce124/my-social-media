"use strict";(self.webpackChunkmy_mind=self.webpackChunkmy_mind||[]).push([[963],{963:(s,e,a)=>{a.r(e),a.d(e,{default:()=>y});a(43);var i=a(3),d=a(250);const r={dialogs:"Dialogs_dialogs__ps72K",dialogs_left_part:"Dialogs_dialogs_left_part__EFSVi",messages_right_part:"Dialogs_messages_right_part__Hts4X",m_messages:"Dialogs_m_messages__GD5Fj",f_messages:"Dialogs_f_messages__5W+5I",send_message:"Dialogs_send_message__LHUAq",active:"Dialogs_active__hQWTE"},n="DialogsWithFriend_dialogs_general__sy2I4",t="DialogsWithFriend_avatar__bU8oX",l="DialogsWithFriend_name_friend__aPlCw",g="DialogsWithFriend_active__q9LRA";var _=a(579);const o=s=>{let{isActive:e}=s;return e?g:"xui"},c=s=>(0,_.jsxs)("div",{className:n,children:[(0,_.jsx)("img",{src:"".concat(s.src),alt:"avatar",className:t}),(0,_.jsx)("div",{className:l,children:(0,_.jsx)(d.k2,{to:"/dialogs/".concat(s.path,"}"),className:o,children:s.name})})]}),m="Messages_message__nztck",h="Messages_my_message__NJs8v",u="Messages_friend_message__U8g2D",v=s=>{const e=s.isMyMessage?h:u;return(0,_.jsx)("div",{className:"".concat(m," ").concat(e),children:s.message})},M={button:"SendMessage_button__PCv96",div_button:"SendMessage_div_button__oaNvM",errorInput:"SendMessage_errorInput__JCWcI",errorMessage:"SendMessage_errorMessage__LEP0C"};var x=a(555),j=a(858);const p=s=>{const{register:e,handleSubmit:a,formState:{errors:i,isValid:d},reset:r}=(0,j.mN)({mode:"onChange",defaultValues:{sendMessage:""}});return(0,_.jsx)("form",{onSubmit:a((e=>{console.log(e.sendMessage),s.onSubmit(e.sendMessage),r()})),children:(0,_.jsxs)("div",{className:M.send,children:[(0,_.jsxs)("div",{className:M.textarea,children:[(0,_.jsx)("textarea",(0,x.A)((0,x.A)({},e("sendMessage",{required:"Message is required",maxLength:{value:30,message:"Must be 30 characters or less"},minLength:{value:3,message:"Must be at least 3 characters"}})),{},{placeholder:"Write message for your friend",className:i.sendMessage?M.errorInput:""})),i.sendMessage&&(0,_.jsxs)("div",{className:M.errorMessage,children:["\u26a0\ufe0f ",i.sendMessage.message]})]}),(0,_.jsx)("div",{className:M.div_button,children:(0,_.jsx)("button",{className:M.button,disabled:!d,children:"Send"})})]})})},N=s=>(0,_.jsx)("div",{className:M.send_message,children:(0,_.jsx)(p,{onSubmit:e=>{s.addMyMessage(e)}})});var f=a(410),b=a(267);const D=()=>{const s=(0,i.d4)((s=>s.dialogsPage)),e=(0,i.wA)();if(!s.friends||!s.messages||!s.myMessage)return(0,_.jsx)("div",{children:(0,_.jsx)(f.A,{})});let a=((null===s||void 0===s?void 0:s.friends)||[]).map((s=>(0,_.jsx)(c,{name:s.name,path:s.path,src:s.src,id:s.id},s.id))),d=((null===s||void 0===s?void 0:s.messages)||[]).map((s=>(0,_.jsx)(v,{message:s.message,id:s.id,isMyMessage:!1},s.id))),n=((null===s||void 0===s?void 0:s.myMessage)||[]).map((s=>(0,_.jsx)(v,{message:s.message,id:s.id,isMyMessage:!0},s.id)));return(0,_.jsxs)("div",{className:r.dialogs,children:[(0,_.jsxs)("div",{className:r.dialogs_left_part,children:[(0,_.jsx)("h3",{children:"Dialogs"}),a]}),(0,_.jsx)("div",{className:r.messages_right_part,children:(0,_.jsxs)("div",{className:r.messages_container,children:[n,d]})}),(0,_.jsx)("div",{className:r.send_message,children:(0,_.jsx)(N,{addMyMessage:s=>{e((0,b.FO)(s))}})})]})},y=()=>(0,i.d4)((s=>s.auth.isAuth))?(0,_.jsx)(D,{}):(0,_.jsx)(d.C5,{to:"/login/"})}}]);
//# sourceMappingURL=963.a180cd9a.chunk.js.map